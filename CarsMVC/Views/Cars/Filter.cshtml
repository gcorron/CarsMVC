@model CarsMVC.ViewModels.CarsViewModel
@section Scripts
{
    <script>
$(document).ready(function () {
        $('#owner').autocomplete({
            source: function(request,response) {
                $.ajax({
                    type: 'POST',
                    url: '@Url.Action("SearchOwner", "Cars")',
                    dataType: 'json',
                    data: { name: request.term } ,
                    success: function (data) {
                    response(data.items);
                    }
                })
            },
            messages: {
                noResults: "", results: ""
            }
        })
})

    </script>
}
@{
    ViewBag.Title = "Car Search";
}


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h1>Find a Car</h1>

        @Html.ValidationSummary(false, "", new { @class = "text-danger" })

        <div class="row">
            <div class="well col-md-4">
                <div class="row">
                    <div class="col-md-offset-1">
                        <div class="form-group">
                            @Html.LabelFor(model => model.SelectYears, htmlAttributes: new { @class = "control-label" })
                            @Html.DropDownListFor(model => model.Year, new SelectList(Model.SelectYears, "Value", "Text"), "Select Year", new { htmlAttributes = new { @class = "form-control" } })
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.Owner, htmlAttributes: new { @class = "control-label" })
                            @Html.EditorFor(model => model.Owner, new { htmlAttributes = new { @class = "form-control", placeholder = "Any Owner", id = "owner" } })
                            @Html.ValidationMessageFor(model => model.Owner, "", new { @class = "text-danger" })
                        </div>
                    </div>

                    <div class="col-md-offset-8">
                        <div class="form-group">
                            <input type="submit" value="Go" class="btn btn-default" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    @Html.ActionLink("Add Car", "Create")
}
